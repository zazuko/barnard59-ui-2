(function(e){function t(t){for(var a,i,o=t[0],u=t[1],d=t[2],l=0,s=[];l<o.length;l++)i=o[l],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&s.push(r[i][0]),r[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);p&&p(t);while(s.length)s.shift()();return c.push.apply(c,d||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,i=1;i<n.length;i++){var u=n[i];0!==r[u]&&(a=!1)}a&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},c=[];function i(e){return o.p+"js/"+({}[e]||e)+"."+{"chunk-2d0a2de4":"a550ede7","chunk-2d0a34d7":"1840f73f","chunk-2d0a3ec7":"408b246a","chunk-2d0a4f20":"84751c21","chunk-2d0ab079":"1b8c782e","chunk-2d0ab0ec":"9f3e2b15","chunk-2d0abe66":"87007540","chunk-2d0ac9b1":"3a979747","chunk-2d0b1e51":"0542bf96","chunk-2d0b297a":"359ecb60","chunk-2d0b3114":"34fb21da","chunk-2d0b6189":"2defd936","chunk-2d0b672b":"3e569ebf","chunk-2d0b9801":"da3f69b2","chunk-2d0bd1f9":"b3262dee","chunk-2d0bd794":"bd294345","chunk-2d0bdf7a":"bfbdfd65","chunk-2d0c18e1":"21897e3d","chunk-2d0c1da5":"7a41b8e1","chunk-2d0c73b0":"4e5ac701","chunk-2d0c8254":"d5c5f7a6","chunk-2d0ccf4c":"d7a978c6","chunk-2d0d07c9":"77937772","chunk-2d0d3e22":"98475db2","chunk-2d0d6908":"ed8b969b","chunk-2d0dd0ed":"985b0674","chunk-2d0dd68c":"65448d4a","chunk-2d0de920":"a91adaa2","chunk-2d0df2b6":"aba3b366","chunk-2d0e1bb3":"9770034d","chunk-2d0e525f":"57a3fd61","chunk-2d0e6101":"2586f667","chunk-2d0e885f":"4a40a49b","chunk-2d0e889b":"c2318434","chunk-2d0e8c2e":"17155553","chunk-2d0f026e":"cbe8dd64","chunk-2d0f0c10":"258654b5","chunk-2d0f0de1":"35f13356","chunk-2d20ef76":"9c256b02","chunk-2d20efc7":"e466281a","chunk-2d20f785":"ee2e79cf","chunk-2d210a2f":"fea5d5ca","chunk-2d213de1":"77cb7825","chunk-2d2163c8":"9870e856","chunk-2d2163d4":"746bcbfb","chunk-2d21787e":"a7d10672","chunk-2d217929":"54a9eb2d","chunk-2d217a6d":"a92722c1","chunk-2d21a586":"e17cbde2","chunk-2d21a979":"e23dc808","chunk-2d21ac05":"0a5cc583","chunk-2d21e406":"651a36c9","chunk-2d21eb2d":"90f9a71d","chunk-2d222045":"18ca4000","chunk-2d225a64":"736cad76","chunk-2d2297bb":"36034184","chunk-2d229d99":"667eb177","chunk-2d22c0ff":"dc9676ed","chunk-2d22cc29":"96530133","chunk-2d22daca":"3a3d64c2","chunk-2d230dc8":"830f4e93","chunk-2d230e07":"cd4aee4d","chunk-2d238115":"c4754b6b","chunk-2d238407":"5fc12c23","chunk-7727fe41":"49f2f9bb"}[e]+".js"}function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=a);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=i(e);var d=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+c+")",d.name="ChunkLoadError",d.type=a,d.request=c,n[1](d)}r[e]=void 0}};var l=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var p=d;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},16:function(e,t){},17:function(e,t){},18:function(e,t){},19:function(e,t){},2:function(e,t){},20:function(e,t){},21:function(e,t){},2111:function(e,t,n){var a={"./_index.nq":["8a44","chunk-2d0e885f"],"./as.nq":["80ec","chunk-2d0dd68c"],"./cc.nq":["9ac3","chunk-2d0f026e"],"./cnt.nq":["bd9f","chunk-2d21ac05"],"./csvw.nq":["1c67","chunk-2d0b6189"],"./dash.nq":["e4fe","chunk-2d225a64"],"./dbo.nq":["b485","chunk-2d20f785"],"./dc11.nq":["d587","chunk-2d21e406"],"./dcat.nq":["0232","chunk-2d0a34d7"],"./dcterms.nq":["92f6","chunk-2d0e525f"],"./doap.nq":["2294","chunk-2d0b1e51"],"./dqv.nq":["ff1b","chunk-2d238407"],"./dtype.nq":["f901","chunk-2d22daca"],"./duv.nq":["e2ccd","chunk-7727fe41"],"./earl.nq":["b22b","chunk-2d20ef76"],"./foaf.nq":["143f","chunk-2d0ab0ec"],"./frbr.nq":["2df8","chunk-2d0bdf7a"],"./geo.nq":["72a8","chunk-2d0d6908"],"./geof.nq":["0934","chunk-2d0a4f20"],"./geor.nq":["1411","chunk-2d0ab079"],"./gn.nq":["67d6","chunk-2d0d07c9"],"./gr.nq":["85e2","chunk-2d0de920"],"./grddl.nq":["2bc1","chunk-2d0bd794"],"./gtfs.nq":["8087","chunk-2d0dd0ed"],"./http.nq":["b979","chunk-2d210a2f"],"./hydra.nq":["c6ff","chunk-2d217929"],"./ical.nq":["dece","chunk-2d229d99"],"./ldp.nq":["19f9","chunk-2d0ac9b1"],"./lvont.nq":["4fae","chunk-2d0ccf4c"],"./ma.nq":["488c","chunk-2d0c1da5"],"./oa.nq":["bab3","chunk-2d21a586"],"./og.nq":["8987","chunk-2d0df2b6"],"./org.nq":["9dcc","chunk-2d0f0de1"],"./owl.nq":["de48","chunk-2d2297bb"],"./prov.nq":["c6b7","chunk-2d21787e"],"./qb.nq":["006d","chunk-2d0a2de4"],"./qudt.nq":["5443","chunk-2d0c8254"],"./qudtv.nq":["cd8f","chunk-2d222045"],"./rdau.nq":["d759","chunk-2d21eb2d"],"./rdf.nq":["c846","chunk-2d217a6d"],"./rdfa.nq":["7c4e","chunk-2d0e1bb3"],"./rdfs.nq":["b267","chunk-2d20efc7"],"./rr.nq":["96c1","chunk-2d0e6101"],"./rss.nq":["af06","chunk-2d213de1"],"./schema.nq":["8b3a","chunk-2d0e8c2e"],"./sd.nq":["eda4","chunk-2d230dc8"],"./sdmx.nq":["c236","chunk-2d2163c8"],"./sem.nq":["fe99","chunk-2d238115"],"./sh.nq":["2792","chunk-2d0b3114"],"./sioc.nq":["4719","chunk-2d0c18e1"],"./skos.nq":["9e5c","chunk-2d0f0c10"],"./skosxl.nq":["16f1","chunk-2d0abe66"],"./sosa.nq":["2b3f","chunk-2d0bd1f9"],"./ssn.nq":["5f50","chunk-2d0d3e22"],"./test.nq":["f241","chunk-2d22c0ff"],"./time.nq":["c22a","chunk-2d2163d4"],"./vaem.nq":["1ccf","chunk-2d0b672b"],"./vann.nq":["f537","chunk-2d22cc29"],"./vcard.nq":["5076","chunk-2d0c73b0"],"./void.nq":["2589","chunk-2d0b297a"],"./vs.nq":["32e1","chunk-2d0b9801"],"./wgs.nq":["edc5","chunk-2d230e07"],"./xhv.nq":["03f4","chunk-2d0a3ec7"],"./xkos.nq":["bbbe","chunk-2d21a979"],"./xsd.nq":["8a62","chunk-2d0e889b"]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,1)}))}r.keys=function(){return Object.keys(a)},r.id="2111",e.exports=r},22:function(e,t){},23:function(e,t){},24:function(e,t){},3:function(e,t){},"38c8":function(e,t,n){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.options.toolbox?n("blockly-component",{ref:"main",attrs:{id:"blockly-workspace",options:e.options}}):e._e(),n("div",{attrs:{id:"code"}},[n("div",{attrs:{id:"buttons"}},[n("button",{on:{click:function(t){return e.showCode()}}},[e._v("Blocks → Turtle")]),n("button",{on:{click:function(t){return e.toXML()}}},[e._v("Blocks → XML")]),n("button",{directives:[{name:"show",rawName:"v-show",value:"xml"===e.codeType,expression:"codeType === 'xml'"}],on:{click:function(t){return e.fromXML()}}},[e._v("XML → Blocks")]),n("button",{directives:[{name:"show",rawName:"v-show",value:"ttl"===e.codeType,expression:"codeType === 'ttl'"}],on:{click:function(t){return e.parseTurtle()}}},[e._v("Turtle → Blocks")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedPipeline,expression:"selectedPipeline"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedPipeline=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[e._v("All pipelines")]),e._l(e.pipelines,(function(t){return n("option",{key:t},[e._v(" "+e._s(t)+" ")])}))],2),n("span",{directives:[{name:"show",rawName:"v-show",value:e.selectedPipeline,expression:"selectedPipeline"}]},[e._v("Showing only: "+e._s(e.selectedPipeline))])]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}})])],1)},c=[],i=(n("99af"),n("3835")),o=n("b85c"),u=(n("96cf"),n("1da1")),d=(n("38c8"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{ref:"workspace-container",staticClass:"workspace-container"}),n("xml",{ref:"workspace-toolbox",staticStyle:{display:"none"}},[e._t("default")],2)],1)}),l=[],p=n("54ca"),s=n.n(p),h={name:"BlocklyComponent",props:["options"],data:function(){return{workspace:null}},mounted:function(){var e=this.$props.options||{};e.toolbox||(e.toolbox=this.$refs["workspace-toolbox"]),this.workspace=s.a.inject(this.$refs["workspace-container"],e)}},f=h,m=n("2877"),b=Object(m["a"])(f,d,l,!1,null,null,null),k=b.exports,v=(n("4de4"),n("caad"),n("d81d"),n("2532"),n("b7fd"));function y(e){return!(null===e||void 0===e||!e._dynamicBlock)}var _=function(e,t){if(!e._dynamicBlock)return!1;if(!t._dynamicBlock)return!1;var n=e._pipeTypes,a=t._pipeTypes;return!(!n.includes("p:Readable")||!a.includes("p:Writable"))||!(!n.includes("p:ReadableObjectMode")||!a.includes("p:WritableObjectMode"))};v["ConnectionChecker"].prototype.doTypeChecks=function(e,t){if(!e.isSuperior()){var n=[e,t];t=n[0],e=n[1]}if("p:Pipeline"===e.sourceBlock_.type&&"p:Pipeline"===t.sourceBlock_.type){var a=e.sourceBlock_.getDescendants(!0).filter(y);if(a.length){var r=a[a.length-1],c=t.sourceBlock_.getChildren(!0).map((function(e){var t=e.id,n=e._dynamicBlock,a=e._pipeTypes;return{id:t,_dynamicBlock:n,_pipeTypes:a}}))[0];return!c||r.id!==c.id&&_(r,c)}}var i=e.getCheck(),o=t.getCheck();if(!i||!o)return!0;for(var u=0;u<i.length;u++)if(o.includes(i[u]))return!0;return!(!y(e.sourceBlock_)||!y(t.sourceBlock_))&&_(e.sourceBlock_,t.sourceBlock_)},v["Blocks"]["p:Pipeline"]={init:function(){this.appendDummyInput().appendField("Pipeline").appendField(new v["FieldTextInput"]("Name"),"NAME"),this.appendDummyInput(),this.appendValueInput("VARIABLES").setCheck(["Array"]).appendField("variables"),this.appendStatementInput("STEPLIST").appendField("steps"),this.setColour(230),this.setTooltip("hey"),this.setHelpUrl("https://example.com"),this.setPreviousStatement(!0,["p:Pipeline"]),this.setNextStatement(!0,["p:Pipeline"])}},v["Blocks"]["code:EcmaScript"]={init:function(){this.appendDummyInput().appendField("Code").appendField(new v["FieldTextInput"]("Code"),"ECMASCRIPTCODE"),this.setInputsInline(!0),this.setOutput(!0,["code:EcmaScript"])}},v["Blocks"]["code:EcmaScriptTemplateLiteral"]={init:function(){this.appendDummyInput().appendField("Template Literal").appendField(new v["FieldTextInput"]("Code"),"ECMASCRIPTCODE"),this.setInputsInline(!0),this.setOutput(!0,["code:EcmaScriptTemplateLiteral"])}},v["Blocks"].variables_get_dynamic={init:function(){this.setColour(150),this.appendDummyInput().appendField(new v["FieldVariable"]("VAR_NAME",null,["p:Variable"],"p:Variable"),"VAR"),this.setOutput(!0,["p:Variable"])}},v["Blocks"].variables_set_dynamic={init:function(){this.setColour(150),this.appendDummyInput("Variable").appendField("Variable"),this.appendDummyInput().appendField("Name").appendField(new v["FieldVariable"]("VAR_NAME",null,["p:Variable"],"p:Variable"),"VAR"),this.appendDummyInput().appendField("Value").appendField(new v["FieldTextInput"]("Value"),"VALUE"),this.setPreviousStatement(!0,["p:Variable"]),this.setNextStatement(!0,["p:Variable"]),this.data="variable IRI"}},v["Blocks"].plists_create_with={init:function(){this.setHelpUrl(v["Msg"].LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=1,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new v["Mutator"](["lists_create_with_item"])),this.setTooltip(v["Msg"].LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var e=v["utils"].xml.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},decompose:function(e){var t=e.newBlock("lists_create_with_container");t.initSvg();for(var n=t.getInput("STACK").connection,a=0;a<this.itemCount_;a++){var r=e.newBlock("lists_create_with_item");r.initSvg(),n.connect(r.previousConnection),n=r.nextConnection}return t},compose:function(e){var t=e.getInputTargetBlock("STACK"),n=[];while(t&&!t.isInsertionMarker())n.push(t.valueConnection_),t=t.nextConnection&&t.nextConnection.targetBlock();for(var a=0;a<this.itemCount_;a++){var r=this.getInput("ADD"+a).connection.targetConnection;r&&!n.includes(r)&&r.disconnect()}this.itemCount_=n.length,this.updateShape_();for(var c=0;c<this.itemCount_;c++)v["Mutator"].reconnect(n[c],this,"ADD"+c)},saveConnections:function(e){var t=e.getInputTargetBlock("STACK"),n=0;while(t){var a=this.getInput("ADD"+n);t.valueConnection_=a&&a.connection.targetConnection,n++,t=t.nextConnection&&t.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(v["Msg"].LISTS_CREATE_EMPTY_TITLE);for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){var t=this.appendValueInput("ADD"+e).setAlign(v["ALIGN_RIGHT"]);0===e&&t.appendField(v["Msg"].LISTS_CREATE_WITH_INPUT_WITH)}},onchange:function(){this.allInputsFilled()&&(this.itemCount_++,this.updateShape_())}};var g=n("d4ec"),T=n("bee2"),w=n("262e"),E=n("2caf");function O(e){var t=Object.assign({width:4.5,height:10,peak:7},e),n=t.width,a=t.height,r=t.peak;return{type:2,width:2*n+r,height:a,pathLeft:" l ".concat(n,",").concat(a,"  ").concat(r,",0  ").concat(n,",-").concat(a," "),pathRight:" l -".concat(n,",").concat(a,"  -").concat(r,",0  -").concat(n,",-").concat(a," ")}}var B={NONE:O({width:4.5,height:0,peak:7}),NORMAL:O({width:5.5,height:10,peak:2}),OBJECT:O({width:0,height:10,peak:15})},S={LIST:C({width:10,height:20,peak:10}),NORMAL:C({width:8,height:15,peak:10})};function C(e){var t=Object.assign({width:8,height:15,peak:10},e),n=t.width,a=t.height,r=t.peak,c=a/2;return{type:1,width:n,height:a,pathDown:" c 0,".concat(r,"  -").concat(n,",-").concat(n,"  -").concat(n,",").concat(c,"  s ").concat(n,",-").concat(r-c,"  ").concat(n,",").concat(c," "),pathUp:" c 0,-".concat(r,"  -").concat(n,",").concat(n,"  -").concat(n,",-").concat(c,"  s ").concat(n,",").concat(r-c,"  ").concat(n,",-").concat(c," ")}}function x(e){if(I(e))return S.LIST;switch(e.type){case"p:Pipeline":return S.LIST;default:return S.NORMAL}}function R(e){if(I(e))return S.LIST;switch(e.type){case"p:Pipeline":case"plists_create_with":return S.LIST;default:return S.NORMAL}}function A(e){return"p:Pipeline"===e.type?B.NONE:e._pipeTypes.includes("p:Writable")?B.NORMAL:e._pipeTypes.includes("p:WritableObjectMode")?B.OBJECT:B.NONE}function N(e){return"p:Pipeline"===e.type?B.NONE:e._pipeTypes.includes("p:Readable")?B.NORMAL:e._pipeTypes.includes("p:ReadableObjectMode")?B.OBJECT:B.NONE}function I(e){return!(null===e||void 0===e||!e._dynamicBlock)}var P=function(e){Object(w["a"])(n,e);var t=Object(E["a"])(n);function n(){return Object(g["a"])(this,n),t.apply(this,arguments)}return Object(T["a"])(n,[{key:"shapeFor",value:function(e){var t,n,a,r="p:Pipeline"===e.sourceBlock_.type,c="node:generic"===e.sourceBlock_.type,i=I(e.sourceBlock_),o=!e.check_&&(null===(t=e.sourceBlock_)||void 0===t||null===(n=t.nextConnection)||void 0===n||null===(a=n.check_)||void 0===a?void 0:a.includes("p:Pipeline"));if(o)return B.NONE;switch(e.type){case v["INPUT_VALUE"]:return x(e.sourceBlock_);case v["OUTPUT_VALUE"]:return R(e.sourceBlock_);case v["PREVIOUS_STATEMENT"]:if(e.sourceBlock_){var u;if(i)return c&&null!==(u=e.targetConnection)&&void 0!==u&&u.sourceBlock_?N(e.targetConnection.sourceBlock_):A(e.sourceBlock_);if(r){var d,l=null===(d=e.sourceBlock_)||void 0===d?void 0:d.childBlocks_,p=l[0];return l&&I(p)?A(p):B.NONE}}return this.NOTCH;case v["NEXT_STATEMENT"]:if(e.sourceBlock_){var s;if(i)return c&&null!==(s=e.targetConnection)&&void 0!==s&&s.sourceBlock_?A(e.targetConnection.sourceBlock_):N(e.sourceBlock_);if(r){var h=e.sourceBlock_.getChildren(!0).filter(I),f=h[h.length-1],m=I(f)?f:null;return m?N(m):B.NONE}}return this.NOTCH;default:throw Error("Unknown type")}}}]),n}(v["blockRendering"].ConstantProvider),q=function(e){Object(w["a"])(n,e);var t=Object(E["a"])(n);function n(){return Object(g["a"])(this,n),t.apply(this,arguments)}return Object(T["a"])(n,[{key:"makeConstants_",value:function(){return new P}}]),n}(v["blockRendering"].Renderer);v["blockRendering"].register("custom_renderer",q);n("7db0"),n("4160"),n("13d5"),n("b0c0"),n("4fad"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("159b");var M,V=n("8785"),D=n("fc18"),j=n.n(D),L=n("2d0c"),F=n.n(L),U=n("d4f0"),W=n.n(U),X=n("310e"),H=n("99b6"),$={schema:"http://schema.org/",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",p:"https://pipeline.described.at/",code:"https://code.described.at/"},Y=Object.entries($).reduce((function(e,t){var n=Object(i["a"])(t,2),a=n[0],r=n[1];return e[a]=W()(r),e}),{});Object.entries($).forEach((function(e){var t=Object(i["a"])(e,2),n=t[0],a=t[1];H["a"][n]=a}));var z=v["B59"]=new v["Generator"]("B59");v["B59"].ORDER_ATOMIC=0,v["B59"].ORDER_FIRST_PASS=10,v["B59"].ORDER_SECOND_PASS=20,v["B59"].ORDER_NONE=99,v["B59"].RESERVED_WORDS_="",v["B59"].init=function(e){v["B59"].cf=j()({dataset:F()()}),v["B59"].variableDB_?v["B59"].variableDB_.reset():v["B59"].variableDB_=new v["Names"](v["B59"].RESERVED_WORDS_),v["B59"].variableDB_.setVariableMap(e.getVariableMap()),v["B59"].defvars_=v["Variables"].allUsedVarModels(e)},v["B59"].finish=function(e){return Object(X["a"])(M||(M=Object(V["a"])(["",""])),v["B59"].cf.dataset).toString().replace(/ rdf:type /g," a ")},v["B59"]["p:Pipeline"]=function(e){var t=e.getFieldValue("NAME"),n=v["B59"].cf.blankNode("variables");return v["B59"].cf.namedNode(t).addOut(Y.rdf.type,Y.p.Pipeline).addOut(Y.rdf.type,Y.p.Readable).addOut(Y.p.variables,n).addOut(Y.p.steps,v["B59"].cf.namedNode("".concat(t,"/steps"))),v["B59"].statementToCode(e,"VARIABLES"),v["B59"].statementToCode(e,"STEPLIST"),""},v["B59"].plists_create_with=function(e){for(var t=0;t<e.itemCount_;t++)v["B59"].valueToCode(e,"ADD"+t,v["B59"].ORDER_NONE);return""},v["B59"].variables_get_dynamic=function(e){return""},v["B59"].variables_set_dynamic=function(e){var t=e.getFieldValue("VAR");if(/b[0-9]+/.test(e.data)){var n=v["B59"].variableDB_.variableMap_.variableMap_["p:Variable"].find((function(e){var n=e.id_;return n===t}));n.data=e.data,n.value=e.getFieldValue("VALUE");var a=v["B59"].cf.blankNode().addOut(Y.rdf.type,Y.p.Variable).addOut(Y.p.name,n.name).addOut(Y.p.value,n.value);v["B59"].cf.blankNode("variables").addOut(Y.p.variable,a)}else if("@base"!==e.data){v["B59"].cf.blankNode("variables").addOut(Y.p.variable,v["B59"].cf.namedNode(e.data));var r=v["B59"].defvars_.find((function(e){var n=e.id_;return n===t}));v["B59"].cf.namedNode(e.data).addOut(Y.rdf.type,Y.p.Variable).addOut(Y.p.name,r.name).addOut(Y.p.value,e.getFieldValue("VALUE"))}var c=e.nextConnection&&e.nextConnection.targetBlock();return v["B59"].blockToCode(c),""},v["B59"]["code:EcmaScript"]=function(e){var t=e.getFieldValue("ECMASCRIPTCODE");return[t,v["B59"].ORDER_NONE]};var G=n("6178"),K=(n("a15b"),n("fb6a"),n("3ca3"),n("1276"),n("9911"),n("ddb0"),n("a630"),n("6062"),n("466d"),n("3f04")),J=n.n(K),Q=n("6b44"),Z=n.n(Q),ee=n("2fc7"),te=n.n(ee),ne=n("d339"),ae=n.n(ne),re=n("b25c"),ce=J.a.parsers.get("text/turtle"),ie={schema:W()("http://schema.org/"),rdf:W()("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),p:W()("https://pipeline.described.at/"),code:W()("https://code.described.at/")};function oe(e){return ue.apply(this,arguments)}function ue(){return ue=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.match(/^\s*@base\s+<([^>]+)>\s*\./im),!n){e.next=3;break}return e.abrupt("return",n[1]);case 3:return e.abrupt("return","");case 4:case"end":return e.stop()}}),e)}))),ue.apply(this,arguments)}function de(e){return le.apply(this,arguments)}function le(){return le=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=ae()(t),a=ce.import(n),e.t0=j.a,e.next=5,Z.a.dataset().import(a);case 5:return e.t1=e.sent,e.t2={dataset:e.t1},r=(0,e.t0)(e.t2),e.next=10,oe(t);case 10:if(c=e.sent,c){e.next=13;break}return e.abrupt("return",r);case 13:return r.namedNode(ie.p.parsedPipeline).addOut(ie.p.hasBase,c),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)}))),le.apply(this,arguments)}function pe(e){return se.apply(this,arguments)}function se(){return se=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,de(t);case 2:return n=e.sent,e.abrupt("return",ke(n));case 4:case"end":return e.stop()}}),e)}))),se.apply(this,arguments)}function he(e){return fe.apply(this,arguments)}function fe(){return fe=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){return te()(t,{formats:J.a}).then((function(t){return e(t.quadStream())})).catch((function(e){return n(e)}))})));case 1:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}function me(e){return be.apply(this,arguments)}function be(){return be=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=j.a,e.t1=Z.a.dataset(),e.next=4,he(t);case 4:return e.t2=e.sent,e.next=7,e.t1.import.call(e.t1,e.t2);case 7:return e.t3=e.sent,e.t4={dataset:e.t3},e.abrupt("return",(0,e.t0)(e.t4));case 10:case"end":return e.stop()}}),e)}))),be.apply(this,arguments)}function ke(e){var t=e.has(ie.p.hasBase),n=t.term?t.out().value:"",a=Object(re["create"])().ele("https://developers.google.com/blockly/xml","xml"),r=a.ele("variables"),c=a,o=new Set,u=[];return e.has(ie.rdf.type,ie.p.Pipeline).forEach((function(e){u.push(e.value);var t=a.ele("block",{type:"p:Pipeline"}).ele("field",{name:"NAME"}).txt(e.value).up(),d=e.out(ie.p.variables).out().filter((function(e){return e.has(ie.rdf.type,ie.p.Variable)})).map((function(e){return{iri:e.term.value,name:e.out(ie.p.name).value,value:e.out(ie.p.value).value}}));n&&d.push({iri:"@base",name:"@base",value:n});var l=t.ele("value",{name:"VARIABLES"}).ele("block",{type:"plists_create_with"}).ele("mutation",{items:"".concat(d.length)}).up();d.forEach((function(e,t){o.has(e.name)||(o.add(e.name),r.ele("variable",{type:"p:Variable"}).txt(e.name),c=c.ele("block",{type:"variables_set_dynamic"}).ele("field",{name:"VAR",variableType:"p:Variable"}).txt(e.name).up().ele("field",{name:"VALUE"}).txt(e.value).up().ele("data").txt(e.iri).up().ele("next"),"@base"!==e.name&&l.ele("value",{name:"ADD".concat(t)}).ele("block",{type:"variables_get_dynamic"}).ele("field",{name:"VAR",variabletype:"p:Variable"}).txt(e.name))}));var p=Array.from(e.out(ie.p.steps).out(ie.p.stepList).list()),h=t.ele("statement",{name:"STEPLIST"});p.forEach((function(e,t,n){var a=n.length,r=e.out(ie.code.implementedBy),c=r.out(ie.code.link),o=Array.from(e.out(ie.code.arguments).toArray()),u=c.term.value,d=!s.a.Blocks[u],l=e.term.value;d&&(u="node:generic"),h=h.ele("block",{type:u}).ele("field",{name:"NAME"}).txt(l).up(),d&&(h=h.ele("field",{name:"OPERATION"}).txt(c.term.value).up());var p=o.map((function(e){var t,n;if("BlankNode"===(null===(t=e)||void 0===t||null===(n=t.term)||void 0===n?void 0:n.termType)){var a=Object(i["a"])(e.out().terms,1);e=a[0]}e=e.term||e;var r=e.datatype;if(r){if(r.equals(ie.p.VariableName)){var c={type:"variables_get_dynamic"},o={name:"VAR",variabletype:"p:Variable"},u=e.value;return{block:c,field:o,val:u}}if(r.equals(ie.code.EcmaScript)){var d={type:"code:EcmaScript"},l={name:"ECMASCRIPTCODE"},p=e.value;return{block:d,field:l,val:p}}if(r.equals(ie.code.EcmaScriptTemplateLiteral)){var s={type:"code:EcmaScriptTemplateLiteral"},h={name:"ECMASCRIPTCODE"},f=e.value;return{block:s,field:h,val:f}}}})).filter(Boolean);if(p.length){var f=h.ele("value",{name:"ARGUMENTS"}).ele("block",{type:"plists_create_with"}).ele("mutation",{items:"".concat(p.length)}).up();p.forEach((function(e,t){var n=e.block,a=e.field,r=e.val;f.ele("value",{name:"ADD".concat(t)}).ele("block",n).ele("field",a).txt(r)}))}t<a-1&&(h=h.ele("next"))}))})),[a,u]}var ve=["manifest-generic.ttl","manifest-barnard59-base.ttl","manifest-barnard59-core.ttl","manifest-barnard59-csvw.ttl","manifest-barnard59-formats.ttl","manifest-barnard59-ftp.ttl","manifest-barnard59-graph-store.ttl","manifest-barnard59-http.ttl","manifest-barnard59-rdf.ttl","manifest-barnard59-shell.ttl","manifest-barnard59-sparql.ttl"],ye={schema:W()("http://schema.org/"),rdf:W()("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),rdfs:W()("http://www.w3.org/2000/01/rdf-schema#"),p:W()("https://pipeline.described.at/"),code:W()("https://code.described.at/")};function _e(){return ge.apply(this,arguments)}function ge(){return ge=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(ve.map((function(e){return me("./manifests/".concat(e))})));case 2:return t=e.sent,t=t.map((function(e,t){var n=ve[t].split("-").slice(1).join("-").split(".")[0];return[n,e]})),e.abrupt("return",t.map((function(e,t){var n=Object(i["a"])(e,2),a=n[0],r=n[1];return r.has(ye.rdf.type,ye.p.Operation).map((function(e){var n=e.out(ye.rdfs.label).term.value,r=e.out(ye.code.implementedBy),c=r.out(ye.code.link),i=c.term.value;return v["Blocks"][i]={init:function(){this._dynamicBlock=!0,this._pipeTypes=["p:Step"],"node:generic"===i?(this.appendDummyInput().appendField("".concat(n)),this.appendDummyInput().appendField("Operation").appendField(new v["FieldTextInput"]("Operation"),"OPERATION")):this.appendDummyInput().appendField("".concat(n," (").concat(a,")")),this.appendDummyInput().appendField("Step").appendField(new v["FieldTextInput"]("Name"),"NAME"),this.appendValueInput("ARGUMENTS").appendField("Arguments").setCheck(["p:Variable","code:EcmaScript","code:EcmaScriptTemplateLiteral","Array"]),this.setColour((185+30*t)%360),this.setTooltip(e.out(ye.rdfs.comment).term.value),this.setHelpUrl(e.term.value);var r=e.has(ye.rdf.type,ye.p.Readable).values.length,c=e.has(ye.rdf.type,ye.p.Writable).values.length,o=e.has(ye.rdf.type,ye.p.ReadableObjectMode).values.length,u=e.has(ye.rdf.type,ye.p.WritableObjectMode).values.length,d=[];c&&(d.push("p:Readable"),this._pipeTypes.push("p:Writable")),u&&(d.push("p:ReadableObjectMode"),this._pipeTypes.push("p:WritableObjectMode")),this.setPreviousStatement(!0,d);var l=[];r&&(l.push("p:Writable"),this._pipeTypes.push("p:Readable")),o&&(l.push("p:WritableObjectMode"),this._pipeTypes.push("p:ReadableObjectMode")),l.length&&this.setNextStatement(!0,l)}},v["B59"][i]=Te(i),'\n          <block type="'.concat(i,'">\n            <field name="NAME"></field>\n          </block>\n        ')})).join("\n")})).join("\n"));case 5:case"end":return e.stop()}}),e)}))),ge.apply(this,arguments)}var Te=function(e){return function(t){var n=t.getFieldValue("NAME"),a=v["B59"].cf.blankNode().addOut(ye.code.link,v["B59"].cf.namedNode(e)).addOut(ye.rdf.type,ye.code.EcmaScript),r=v["B59"].cf.namedNode(n).addOut(ye.rdf.type,ye.p.Step).addOut(ye.code.implementedBy,a);v["B59"].valueToCode(t,"ARGUMENTS",v["B59"].ORDER_NONE)&&r.addList(ye.code.arguments,[v["B59"].cf.literal(v["B59"].valueToCode(t,"ARGUMENTS",v["B59"].ORDER_NONE))]);var c=t.nextConnection&&t.nextConnection.targetBlock();return v["B59"].blockToCode(c),""}},we=function(e){var t=[],n=document.createElement("button");n.setAttribute("text","Create Typed Variable"),n.setAttribute("callbackKey","callbackName"),t.push(n);var a=s.a.VariablesDynamic.flyoutCategoryBlocks(e);return t=t.concat(a),t},Ee='\n\n@base <http://example.org/pipeline/> .\n@prefix code: <https://code.described.at/> .\n@prefix p: <https://pipeline.described.at/> .\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n\n<utc> a p:Pipeline, p:Readable ;\n  p:variables [\n    p:variable [\n      a p:Variable;\n      p:name "url" ;\n      p:value "http://worldtimeapi.org/api/timezone/etc/UTC" ;\n    ] ,\n    <dateContext>\n  ] ;\n  p:steps <steps> .\n\n<cet> a p:Pipeline, p:Readable ;\n  p:variables [\n    p:variable [\n      a p:Variable;\n      p:name "url" ;\n      p:value "http://worldtimeapi.org/api/timezone/etc/UTC" ;\n    ] ,\n    <dateContext>\n  ] ;\n  p:steps <steps> .\n\n<dateContext>\n  a p:Variable;\n  p:name "context" ;\n  p:value """{"date":"http://purl.org/dc/elements/1.1/date"}""" .\n\n<steps>\n  p:stepList ( <fetch> <jsonldStructure> <parse> <serialize> ) .\n\n<fetch> a p:Step ;\n  code:implementedBy [\n    code:link <node:barnard59-base#fetch.json> ;\n    a code:EcmaScript\n  ];\n  code:arguments ("url"^^p:VariableName) .\n\n<jsonldStructure> a p:Step ;\n  code:implementedBy [\n    code:link <node:barnard59-base#map> ;\n    a code:EcmaScript\n  ];\n  code:arguments ("json => { return { \'@context\': JSON.parse(this.variables.get(\'context\')), \'@id\': this.variables.get(\'url\'), date: json.datetime } }"^^code:EcmaScript) .\n\n<parse> a p:Step ;\n  code:implementedBy [\n    code:link <node:barnard59-formats/jsonld.js#parse.object> ;\n    a code:EcmaScript\n  ] .\n\n<serialize> a p:Step ;\n  code:implementedBy [\n    code:link <node:barnard59-formats/ntriples.js#serialize> ;\n    a code:EcmaScript\n  ] .\n',Oe=function(e){return'\n<xml>\n  <category name="Pipeline" colour="%{BKY_LOOPS_HUE}">\n    <block type="p:Pipeline">\n      <field name="NAME">my-pipeline</field>\n    </block>\n    <block type="code:EcmaScript">\n      <field name="ECMASCRIPTCODE">(x) => x * 2</field>\n    </block>\n    <block type="code:EcmaScriptTemplateLiteral">\n      <field name="ECMASCRIPTCODE">Date is ${new Date().toISOString()}</field>\n    </block>\n  </category>\n  <category name="Steps" colour="%{BKY_LOOPS_HUE}">\n    '.concat(e,'\n  </category>\n  <category name="Lists">\n    <block type="plists_create_with"></block>\n  </category>\n  <category name="Variables" custom="CREATE_TYPED_VARIABLE" colour="%{BKY_VARIABLES_HUE}"></category>\n</xml>\n')},Be={name:"app",components:{BlocklyComponent:k},mounted:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_e();case 2:n=t.sent,e.options.toolbox=Oe(n),setTimeout((function(){var t=e.$refs.main.workspace;t.registerToolboxCategoryCallback("CREATE_TYPED_VARIABLE",we);var n=new G["a"](t,"callbackName",[["p:Variable","p:Variable"],["p:Variable","p:Variable"]]);n.init(),e.parseTurtle()}),400);case 5:case"end":return t.stop()}}),t)})))()},data:function(){return{pipelines:[],selectedPipeline:"",hiddenPipelines:[],code:Ee,codeType:"ttl",options:{media:"media/",grid:{spacing:25,length:3,colour:"#ccc",snap:!0},toolbox:"",renderer:"custom_renderer"}}},watch:{selectedPipeline:function(e,t){var n=new XMLSerializer,a=s.a.Xml.workspaceToDom(this.$refs.main.workspace);if(e!==t){var r,c=Object(o["a"])(this.hiddenPipelines);try{for(c.s();!(r=c.n()).done;){var i=r.value;a.appendChild(i)}}catch(b){c.e(b)}finally{c.f()}this.hiddenPipelines=[]}var u=a.querySelectorAll('block[type="p:Pipeline"]');if(e){var d,l=Object(o["a"])(u);try{for(l.s();!(d=l.n()).done;){var p=d.value,h=p.querySelector('field[name="NAME"]');h&&h.innerHTML!==e&&(this.hiddenPipelines.push(p),p.remove())}}catch(b){l.e(b)}finally{l.f()}}var f=n.serializeToString(a),m=s.a.Xml.textToDom(f);s.a.mainWorkspace.clear(),s.a.Xml.domToWorkspace(m,this.$refs.main.workspace)}},methods:{showCode:function(){this.code=z.workspaceToCode(this.$refs.main.workspace),this.codeType="ttl"},toXML:function(){var e=s.a.Xml.workspaceToDom(this.$refs.main.workspace),t=s.a.Xml.domToPrettyText(e);this.code=t,this.codeType="xml"},fromXML:function(e){try{var t=s.a.Xml.textToDom(e||this.code);return s.a.mainWorkspace.clear(),s.a.Xml.domToWorkspace(t,this.$refs.main.workspace),!0}catch(n){return console.error("XML parsing failed"),console.error(n),!1}},parseTurtle:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,a,r,c,o,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,pe(e.code);case 2:n=t.sent,a=Object(i["a"])(n,2),r=a[0],c=a[1],e.pipelines=c,o=r.end({prettyPrint:!0}),u=s.a.Xml.textToDom(o),s.a.mainWorkspace.clear(),s.a.Xml.domToWorkspace(u,e.$refs.main.workspace);case 11:case"end":return t.stop()}}),t)})))()}}},Se=Be,Ce=Object(m["a"])(Se,r,c,!1,null,null,null),xe=Ce.exports;a["a"].config.productionTip=!1,a["a"].config.ignoredElements=["field","block","category","xml","mutation","value","sep"],new a["a"]({render:function(e){return e(xe)}}).$mount("#app")},6:function(e,t){},7:function(e,t){},8:function(e,t){},9:function(e,t){}});
//# sourceMappingURL=app.97dbbce7.js.map